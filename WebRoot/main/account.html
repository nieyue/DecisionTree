<div class="right-body">
<!-- 账户信息选择 -->
<div style="margin:10px;">
<label  class="text-danger nieyueText" style="font-size:30px;color:#ccc;">账户信息</label>
</div>
<!-- list and update -->
<div id="sessionAccountUpdateWrap">
	<div id="sessionAccountUpdate" >
	<label  class="text-danger">※姓名</label>
	  <div class=" comment-input-margin">
	    <input type="text" class=" comment-input"  id="realnameUpdate"  placeholder="2-16位">
	  </div>
	  <label class="text-danger" >※手机号</label>
	  <div class="comment-input-margin ">
	    <input type="text" class="comment-input"  id="phoneUpdate"  placeholder="11位" >
	  </div>
	    <label  class="text-danger">※密码</label>
	  <div class=" comment-input-margin">
	    <input type="text" class=" comment-input"  name="passwordUpdate"   placeholder="6-16位">
	  </div>
	  <div class=" comment-input-margin" >
	    <button type="button" class="btn btn-primary" id="sessionAccountUpdateSubmit" >保存</button>
	  </div>
	</div>
</div>
<!-- alist and update  end-->

</div>
<script>
	//初始化
	$("#realnameUpdate").val(business.sessionAccount.realname),
	$("#phoneUpdate").val(business.sessionAccount.phone),
	/**
     * 修改
     * p.url 修改url
     * p.requestObject 请求参数对象
     * p.success 成功回调
     */
	 //绑定
	$(document).off("click","#sessionAccountUpdateSubmit");
	$(document).on("click","#sessionAccountUpdateSubmit",function(){
	business.updateAccount=business.sessionAccount;//复制
	business.updateAccount.realname=$("#realnameUpdate").val();
	business.updateAccount.phone=$("#phoneUpdate").val();
	//如果不存在，就不修改
	if($("#passwordUpdate").val()){
	business.updateAccount.password=$("#passwordUpdate").val();
	}else{
	business.updateAccount.password=business.sessionAccount.password;
	}
	 business.update({
      url:"/account/update",
      requestObject:'updateAccount',
      success:function(){
      $("#closeModal").click();
      //初始化
	  business.sessionAccount=business.updateAccount;
	  console.log(business.sessionAccount)
      }
      }); 
	});

</script>