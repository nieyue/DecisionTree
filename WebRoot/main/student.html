<div class="right-body">
<!-- 学生列表选择 -->
<div style="margin:10px;">
<label  class="text-danger nieyueText" style="font-size:30px;color:#ccc;">学生列表</label>
</div>
<div style="margin:10px;">
<button class="btn btn-primary" onclick="business.addClick('添加学生','#studentAdd')">添加学生</button>
</div>
<!-- 学生列表选择end -->
<!-- 学生列表 -->
		<div style="width:100%" class="tableWrap">
			<table class="table table-bordered" style="width:100%">
				<!--表格头-->
    			<thead>
					<tr>
					  <th>序号</th>
					  <th>学生id</th>
					  <th>姓名</th>
					  <th>手机号</th>
					  <th>创建时间</th>
					  <th>最后登陆时间</th>
					  <th >操作</th> 
					</tr>
    			</thead>
    			<!--表格主体-->
    			<tbody id="tableTbody">
				</tbody>
			</table>
		</div>
<!-- 学生列表end -->
	<!-- 页面列表end -->


<!-- 分页 -->
<div class="page_div">
<!--分页条信息 -->
	<div class="page_label" id="di">
		<nav aria-label="Page navigation">
	    	<ul class="pagination">
		    </ul>
		</nav>	
	</div>
<!--分页文字信息  -->
	<div class="page_font"></div>
</div> 
<!--分页 end -->
<!-- add -->
<div id="studentAdd" style="display:none">
<label  class="text-danger">※姓名</label>
  <div class=" comment-input-margin">
    <input type="text" class=" comment-input"  id="realname"  placeholder="2-16位">
  </div>
  <label class="text-danger" >※手机号</label>
  <div class="comment-input-margin ">
    <input type="text" class="comment-input"  id="phone"  placeholder="11位" >
  </div>
    <label  class="text-danger">※密码</label>
  <div class=" comment-input-margin">
    <input type="text" class=" comment-input"  name="password"   placeholder="6-16位">
  </div>
  <div class=" comment-input-margin" >
    <button type="button" class="btn btn-primary" id="studentAddSubmit" >确定</button>
  </div>
</div>
<!-- add end-->
</div>
<script>
  	//请求参数分角色
 	for(var i=0;i<business.roleList.length;i++){
			if(business.roleList[i].name=='学生'){
 				business.params.roleId=business.roleList[i].roleId;
			}
	}
//初始化列表
	business.slef.getList=function(){
	business.getList({
       countUrl:'/account/countAll',
       listUrl:'/account/list',
       data:'accountList',
       success:function(){
       var tableTbody="";
       for(var i=0;i<business.accountList.length;i++){
			tableTbody+="<tr>"+
						  "<td>"+
						      "<span>"+(i+(business.params.currentPage-1)*business.params.pageSize+business.params.startNum)+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<span>"+business.accountList[i].accountId+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<span>"+business.accountList[i].realname+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<span>"+business.accountList[i].phone+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<span>"+business.accountList[i].createDate+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<span>"+business.accountList[i].loginDate+"</span>"+
						  "</td>"+
						  "<td>"+
						      "<button class='btn btn-warning'>修改</span>"+
						  "</td>"+
						"</tr>";
		}
		//表格数据
		$("#tableTbody").html(tableTbody);
		business.initPage(business.params);
       }
     },business.params);
     }
	business.slef.getList();
		/**
     * 增加
     * p.addUrl 增加url
     * p.requestObject 请求参数对象
     * p.success 成功回调
     */
    $(document).on("click","#studentAddSubmit",function(){
	business.addAccount={
	realname:$("#realname").val(),
	phone:$("#phone").val(),
	password:$("#password").val(),
	roleId:business.params.roleId
	};
	business.add({
		url:'/account/add',
		requestObject:'addAccount',
		success:function(){
		 $("#closeModal").click();
		 business.slef.getList();
		}
	});
	});
</script>